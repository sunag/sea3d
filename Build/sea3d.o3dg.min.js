SEA3D.GeometryGC=function(f,b,a){this.name=f;this.data=b;this.sea3d=a;var e=b.readUShort();f=[];var g,h;this.isBig=0!=(e&1);b.readVInt=this.isBig?b.readUInt:b.readUShort;if(e&2){this.groups=[];var c=b.readUByte(),d=0;for(a=0;a<c;a++){var k=3*b.readVInt();this.groups.push({start:d,count:k});d+=k}}else this.groups=[];if(e&4)for(this.uv=[],c=b.readUByte(),a=0;a<c;a++)f[a]=b.readUByte();e&32&&(g=b.readUByte(),h=b.readUByte());a=b.readUInt();a=b.concat(b.position,a);b=new o3dgc.BinaryStream(a.buffer);
e=new o3dgc.SC3DMCDecoder;c=new o3dgc.IndexedFaceSet;e.DecodeHeader(c,b);a=c.GetNCoordIndex();d=c.GetNCoord();this.groups.length||this.groups.push({start:0,count:3*a});this.indexes=this.isBig?new Uint32Array(3*a):new Uint16Array(3*a);this.vertex=new Float32Array(3*d);c.SetCoordIndex(this.indexes);c.SetCoord(this.vertex);0<c.GetNNormal()&&(this.normal=new Float32Array(3*d),c.SetNormal(this.normal));for(a=0;a<f.length;a++)this.uv[a]=new Float32Array(2*d),c.SetFloatAttribute(f[a],this.uv[a]);void 0!==
g&&(this.jointPerVertex=c.GetIntAttributeDim(g),this.joint=new Uint16Array(d*this.jointPerVertex),this.weight=new Float32Array(d*this.jointPerVertex),c.SetIntAttribute(g,this.joint),c.SetFloatAttribute(h,this.weight));e.DecodePlayload(c,b)};SEA3D.GeometryGC.prototype.type="s3D";THREE.SEA3D.EXTENSIONS_LOADER.push({setTypeRead:function(){this.file.addClass(SEA3D.GeometryGC,!0);this.file.typeRead[SEA3D.GeometryGC.prototype.type]=this.readGeometryBuffer}});
